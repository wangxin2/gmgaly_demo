(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{2114:function(e,t,o){var a=o("313e"),n=a.extendComponentView({type:"bmap",render:function(e,t,o){var a=!0,n=e.getBMap(),r=o.getZr().painter.getViewportRoot(),i=e.coordinateSystem,l=function(t,n){if(!a){var l=r.parentNode.parentNode.parentNode,s=[-parseInt(l.style.left,10)||0,-parseInt(l.style.top,10)||0];r.style.left=s[0]+"px",r.style.top=s[1]+"px",i.setMapOffset(s),e.__mapOffset=s,o.dispatchAction({type:"bmapRoam"})}};function s(){a||o.dispatchAction({type:"bmapRoam"})}n.removeEventListener("moving",this._oldMoveHandler),n.removeEventListener("zoomend",this._oldZoomEndHandler),n.addEventListener("moving",l),n.addEventListener("zoomend",s),this._oldMoveHandler=l,this._oldZoomEndHandler=s;var p=e.get("roam");p&&"scale"!==p?n.enableDragging():n.disableDragging(),p&&"move"!==p?(n.enableScrollWheelZoom(),n.enableDoubleClickZoom(),n.enablePinchToZoom()):(n.disableScrollWheelZoom(),n.disableDoubleClickZoom(),n.disablePinchToZoom());var m=e.__mapStyle,c=e.get("mapStyle")||{},f=JSON.stringify(c);JSON.stringify(m)!==f&&(Object.keys(c).length&&n.setMapStyle(c),e.__mapStyle=JSON.parse(f));var u=e.__mapStyle2,y=e.get("mapStyleV2")||{},d=JSON.stringify(y);JSON.stringify(u)!==d&&(Object.keys(y).length&&n.setMapStyleV2(y),e.__mapStyle2=JSON.parse(d)),a=!1}});e.exports=n},"268c":function(e,t,o){"use strict";var a=o("b1f6"),n=o.n(a);n.a},"4ae9":function(e,t,o){var a,n=o("313e"),r=n.util,i=n.graphic,l=n.matrix;function s(e,t){this._bmap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=t,this._projection=new BMap.MercatorProjection}function p(e,t){return t=t||[0,0],r.map([0,1],(function(o){var a=t[o],n=e[o]/2,r=[],i=[];return r[o]=a-n,i[o]=a+n,r[1-o]=i[1-o]=t[1-o],Math.abs(this.dataToPoint(r)[o]-this.dataToPoint(i)[o])}),this)}function m(){function e(e){this._root=e}return e.prototype=new BMap.Overlay,e.prototype.initialize=function(e){return e.getPanes().labelPane.appendChild(this._root),this._root},e.prototype.draw=function(){},e}s.prototype.dimensions=["lng","lat"],s.prototype.setZoom=function(e){this._zoom=e},s.prototype.setCenter=function(e){this._center=this._projection.lngLatToPoint(new BMap.Point(e[0],e[1]))},s.prototype.setMapOffset=function(e){this._mapOffset=e},s.prototype.getBMap=function(){return this._bmap},s.prototype.dataToPoint=function(e){var t=new BMap.Point(e[0],e[1]),o=this._bmap.pointToOverlayPixel(t),a=this._mapOffset;return[o.x-a[0],o.y-a[1]]},s.prototype.pointToData=function(e){var t=this._mapOffset;e=this._bmap.overlayPixelToPoint({x:e[0]+t[0],y:e[1]+t[1]});return[e.lng,e.lat]},s.prototype.getViewRect=function(){var e=this._api;return new i.BoundingRect(0,0,e.getWidth(),e.getHeight())},s.prototype.getRoamTransform=function(){return l.create()},s.prototype.prepareCustoms=function(e){var t=this.getViewRect();return{coordSys:{type:"bmap",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:r.bind(this.dataToPoint,this),size:r.bind(p,this)}}},s.dimensions=s.prototype.dimensions,s.create=function(e,t){var o,n=t.getDom();e.eachComponent("bmap",(function(e){var r=t.getZr().painter,i=r.getViewportRoot();if("undefined"===typeof BMap)throw new Error("BMap api is not loaded");if(a=a||m(),o)throw new Error("Only one bmap component can exist");if(!e.__bmap){var l=n.querySelector(".ec-extension-bmap");l&&(i.style.left="0px",i.style.top="0px",n.removeChild(l)),l=document.createElement("div"),l.style.cssText="width:100%;height:100%",l.classList.add("ec-extension-bmap"),n.appendChild(l);var p=e.__bmap=new BMap.Map(l),c=new a(i);p.addOverlay(c),r.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}p=e.__bmap;var f=e.get("center"),u=e.get("zoom");if(f&&u){var y=new BMap.Point(f[0],f[1]);p.centerAndZoom(y,u)}o=new s(p,t),o.setMapOffset(e.__mapOffset||[0,0]),o.setZoom(u),o.setCenter(f),e.coordinateSystem=o})),e.eachSeries((function(e){"bmap"===e.get("coordinateSystem")&&(e.coordinateSystem=o)}))};var c=s;e.exports=c},"5d99":function(e,t,o){var a=o("313e");function n(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}var r=a.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(e,t){this.option.center=e,this.option.zoom=t},centerOrZoomChanged:function(e,t){var o=this.option;return!(n(e,o.center)&&t===o.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},roam:!1}});e.exports=r},a00a:function(e,t,o){var a=o("313e"),n=o("4ae9");o("5d99"),o("2114"),a.registerCoordinateSystem("bmap",n),a.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},(function(e,t){t.eachComponent("bmap",(function(e){var t=e.getBMap(),o=t.getCenter();e.setCenterAndZoom([o.lng,o.lat],t.getZoom())}))}));var r="1.0.0";t.version=r},b1f6:function(e,t,o){},f820:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"about"},[o("div",{staticClass:"china_echarts"},[o("div",{staticClass:"map_Chart",attrs:{id:"map_Chart"}})])])}];o("99af"),o("d81d"),o("fb6a"),o("b0c0");o("a00a");var r={name:"About",data:function(){return{geoCoordMap:{"位置1":[90.9180416971,41.080715534],"位置2":[123.4965120599,51.0206466741],"位置3":[100.4728967514,26.1734892363],"位置4":[121.5121844054,31.2106872661],"位置5":[111.50148,31.2458353752],"位置6":[111.50148,24.2458353752]},mapData:[{name:"位置1",value:19},{name:"位置2",value:20},{name:"位置3",value:32},{name:"位置4",value:24},{name:"位置5",value:46},{name:"位置6",value:30}]}},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=this;e.getDatas();var t=e.$echarts.init(document.getElementById("map_Chart"));this.getMapEcharts(t),setInterval((function(){e.mapData=[{name:"位置1",value:Math.floor(40*Math.random()+1)+5},{name:"位置2",value:Math.floor(40*Math.random()+1)+5},{name:"位置3",value:Math.floor(40*Math.random()+1)+5},{name:"位置4",value:Math.floor(40*Math.random()+1)+5},{name:"位置5",value:Math.floor(40*Math.random()+1)+5},{name:"位置6",value:Math.floor(40*Math.random()+1)+5}],console.log(1),e.getMapEcharts(t)}),3e3)},convertData:function(e){for(var t=this,o=[],a=0;a<e.length;a++){var n=t.geoCoordMap[e[a].name];n&&o.push({name:e[a].name,value:n.concat(e[a].value)})}return o},getDatas:function(){this.$axios.get("/api/gmtown/findCitys").then((function(e){var t=e.data.result;t=t.map((function(e){var t=e.townName.length;return e.name=e.townName.slice(0,t-1),e.value=e.currentStatistics.deadCount,e.value2=e.currentStatistics.curedCount,e.comment=e.currentStatistics.comment,e})),console.log(t)})).catch((function(e){console.log(e)}))},getMapEcharts:function(e){var t=this,o=t.getOptions();e.setOption(o),window.addEventListener("resize",(function(){e.resize()}))},getOptions:function(){var e=this,t={title:{text:"疫情地理信息显示  - 实时",subtext:"各省疫情变化",sublink:"https://www.baidu.com",left:"center",textStyle:{color:"#2f2f2f",fontFamily:"STKaiti",fontSize:"30"}},tooltip:{trigger:"item"},xAxis:{type:"category",data:["位置1","位置2","位置3","位置4","位置5","位置6"]},yAxis:{type:"value",splitLine:{show:!1}},legend:{data:["确诊量","治愈量"],y:"bottom",x:"right",orient:"vertical",top:"75%",left:"15%"},grid:{top:"75%",bottom:"5%",left:"40%",right:"5%",opacity:"0.1"},Opacity:.2,bmap:{center:[111.43066322374,31.090018034923],zoom:2,roam:!0,opt:{enableMapClick:!1},mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#679bde"}},{featureType:"land",elementType:"all",stylers:{color:"#f3f3f3"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#fefefe"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"local",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"district",elementType:"all",stylers:{color:"#eeeeee"}},{featureType:"building",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"label",elementType:"labels.text.fill",stylers:{color:"#999999"}}]}},series:[{name:"全部",type:"scatter",coordinateSystem:"bmap",data:e.convertData(e.mapData),symbolSize:function(e){return e[2]/2},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"green"}}},{name:"Top 3",type:"effectScatter",coordinateSystem:"bmap",data:e.convertData(e.mapData.sort((function(e,t){return t.value-e.value})).slice(0,3)),symbolSize:function(e){return e[2]/2},showEffectOn:"render",rippleEffect:{brushType:"stroke",period:5,scale:3.5},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#fb3c3c",shadowBlur:10,shadowColor:"#db1c1c"}},encode:{tooltip:[2]},cursor:"help",zlevel:1},{name:"Top 4-6",type:"effectScatter",coordinateSystem:"bmap",data:e.convertData(e.mapData.sort((function(e,t){return t.value-e.value})).slice(3,6)),symbolSize:function(e){return e[2]/2},showEffectOn:"render",rippleEffect:{brushType:"stroke",scale:3.5},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"#1f6ed4",shadowBlur:7,shadowColor:"#0f5ec4"}},encode:{tooltip:[2]},cursor:"help",zlevel:1},{name:"确诊量",data:[Math.floor(40*Math.random()+1)+5,Math.floor(40*Math.random()+1)+5,Math.floor(40*Math.random()+1)+5,Math.floor(40*Math.random()+1)+5,Math.floor(40*Math.random()+1)+5,Math.floor(40*Math.random()+1)+5],type:"line",smooth:!0},{name:"治愈量",data:[7,60,30,24,15,32],type:"line",smooth:!0}]};return t}}},i=r,l=(o("268c"),o("2877")),s=Object(l["a"])(i,a,n,!1,null,"2bf4decc",null);t["default"]=s.exports}}]);
//# sourceMappingURL=about.js.map